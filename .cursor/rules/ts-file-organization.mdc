---
description: File structure and code organization standards for TypeScript
globs: *.ts, *.tsx
---
<?xml version="1.0" encoding="UTF-8"?>
<cursor_rules>
    <rule>
        <n>typescript_file_organization</n>
        <description>File structure and code organization standards</description>
        
        <filters>
            <filter>
                <type>file_extension</type>
                <pattern>\.(ts|tsx)$</pattern>
            </filter>
        </filters>

        <guidelines>
            <section name="file_organization">
                <title>File Organization</title>
                <trigger>
                    <pattern>export\s+(class|interface|type).*\{[\s\S]{200,}</pattern>
                </trigger>
                <guidelines>
                    <item>One primary class/interface per file</item>
                    <item>Keep files under 200 lines when possible</item>
                    <item>Group related functionality</item>
                </guidelines>
            </section>

            <section name="interface_organization">
                <title>Interface Organization</title>
                <trigger>
                    <pattern>export\s+interface</pattern>
                </trigger>
                <guidelines>
                    <item>Place interfaces in separate files when shared</item>
                    <item>Co-locate with implementation when specific</item>
                    <item>Use index files for public API surface</item>
                </guidelines>
            </section>

            <section name="import_organization">
                <title>Import Organization</title>
                <trigger>
                    <pattern>import\s+\{[^}]+\}\s+from\s+['"]\.\/</pattern>
                </trigger>
                <guidelines>
                    <item>Group imports by scope (external, internal, relative)</item>
                    <item>Use barrel exports for feature modules</item>
                    <item>Keep import paths as short as possible</item>
                </guidelines>
            </section>
        </guidelines>

        <examples>
            <example type="bad">
                <title>Multiple unrelated exports</title>
                <code>
                export interface UserData {}
                export class AuthService {}
                export type ValidationRules = {};
                </code>
            </example>
            
            <example type="good">
                <title>Single focused export</title>
                <code>
                // user-data.interface.ts
                export interface UserData {}
                
                // auth.service.ts
                export class AuthService {}
                </code>
            </example>
        </examples>

        <metadata>
            <priority>high</priority>
            <version>1.0</version>
        </metadata>
    </rule>
</cursor_rules> 